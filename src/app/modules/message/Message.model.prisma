model Message {
  id         String   @id @default(auto()) @map("_id") @db.ObjectId
  created_at DateTime @default(now())
  updated_at DateTime @updatedAt

  chat_id   String  @db.ObjectId
  driver_id String? @db.ObjectId
  user_id   String? @db.ObjectId

  content    String?
  media_urls String[]           @default([])
  media_type EMessageMediaType?

  seen_by_driver Boolean @default(false)
  seen_by_user   Boolean @default(false)

  driver User?  @relation("DriverMessage", fields: [driver_id], references: [id], onDelete: Cascade)
  user   User?  @relation("UserMessage", fields: [user_id], references: [id], onDelete: Cascade)
  Chat   Chat[]

  @@map("messages")
}

enum EMessageMediaType {
  images
  videos
}
